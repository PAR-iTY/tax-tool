import"../chunks/DsnmJJEf.js";import{O as M,P as R,e as T,Q as P,o as $,R as m,S as j,T as J,U as C,V as S,K as N,W as b,M as F,X as v,J as W,Y as q,Z as k,_ as h,$ as g}from"../chunks/rados5Ou.js";import{d as H,s as K}from"../chunks/CBcsriMR.js";import{r as L}from"../chunks/BDokl1zn.js";function Q(e,t,n=t){var r=M(),a=new WeakSet;R(e,"input",o=>{var i=o?e.defaultValue:e.value;if(i=y(e)?V(i):i,n(i),m!==null&&a.add(m),r&&i!==(i=t())){var c=e.selectionStart,l=e.selectionEnd;e.value=i??"",l!==null&&(e.selectionStart=c,e.selectionEnd=Math.min(l,e.value.length))}}),($&&e.defaultValue!==e.value||T(t)==null&&e.value)&&(n(y(e)?V(e.value):e.value),m!==null&&a.add(m)),P(()=>{var o=t();if(e===document.activeElement){var i=j??m;if(a.has(i))return}y(e)&&o===V(e.value)||e.type==="date"&&!o&&!e.value||o!==e.value&&(e.value=o??"")})}function y(e){var t=e.type;return t==="number"||t==="range"}function V(e){return e===""?null:+e}/*!
 * currency.js - v2.0.4
 * http://scurker.github.io/currency.js
 *
 * Copyright (c) 2021 Jason Wilson
 * Released under MIT license
 */var U={symbol:"$",separator:",",decimal:".",errorOnInvalid:!1,precision:2,pattern:"!#",negativePattern:"-!#",format:z,fromCents:!1},O=function(t){return Math.round(t)},w=function(t){return Math.pow(10,t)},X=function(t,n){return O(t/n)*n},Y=/(\d)(?=(\d{3})+\b)/g,Z=/(\d)(?=(\d\d)+\d\b)/g;function s(e,t){var n=this;if(!(n instanceof s))return new s(e,t);var r=Object.assign({},U,t),a=w(r.precision),o=_(e,r);n.intValue=o,n.value=o/a,r.increment=r.increment||1/a,r.useVedic?r.groups=Z:r.groups=Y,this.s=r,this.p=a}function _(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,r=0,a=t.decimal,o=t.errorOnInvalid,i=t.precision,c=t.fromCents,l=w(i),d=typeof e=="number",f=e instanceof s;if(f&&c)return e.intValue;if(d||f)r=f?e.value:e;else if(typeof e=="string"){var u=new RegExp("[^-\\d"+a+"]","g"),p=new RegExp("\\"+a,"g");r=e.replace(/\((.*)\)/,"-$1").replace(u,"").replace(p,"."),r=r||0}else{if(o)throw Error("Invalid Input");r=0}return c||(r*=l,r=r.toFixed(4)),n?O(r):r}function z(e,t){var n=t.pattern,r=t.negativePattern,a=t.symbol,o=t.separator,i=t.decimal,c=t.groups,l=(""+e).replace(/^-/,"").split("."),d=l[0],f=l[1];return(e.value>=0?n:r).replace("!",a).replace("#",d.replace(c,"$1"+o)+(f?i+f:""))}s.prototype={add:function(t){var n=this.intValue,r=this.s,a=this.p;return s((n+=_(t,r))/(r.fromCents?1:a),r)},subtract:function(t){var n=this.intValue,r=this.s,a=this.p;return s((n-=_(t,r))/(r.fromCents?1:a),r)},multiply:function(t){var n=this.intValue,r=this.s;return s((n*=t)/(r.fromCents?1:w(r.precision)),r)},divide:function(t){var n=this.intValue,r=this.s;return s(n/=_(t,r,!1),r)},distribute:function(t){for(var n=this.intValue,r=this.p,a=this.s,o=[],i=Math[n>=0?"floor":"ceil"](n/t),c=Math.abs(n-i*t),l=a.fromCents?1:r;t!==0;t--){var d=s(i/l,a);c-- >0&&(d=d[n>=0?"add":"subtract"](1/l)),o.push(d)}return o},dollars:function(){return~~this.value},cents:function(){var t=this.intValue,n=this.p;return~~(t%n)},format:function(t){var n=this.s;return typeof t=="function"?t(this,n):n.format(this,Object.assign({},n,t))},toString:function(){var t=this.intValue,n=this.p,r=this.s;return X(t/n,r.increment).toFixed(r.precision)},toJSON:function(){return this.value}};const A=(e,t,n,r,a,o)=>{console.log(`user_income:
`,v(t));const i=n.filter(u=>u[0]<v(t));console.log(`income_taxes:
`,i);const c=i.filter(u=>u[1]>v(t)&&u[0]<v(t)).flat(),l=r(s(v(t)).subtract(c[0]).value,s(c[2],{precision:3}).value);if(i.length===1){console.log("only one tax bracket applies"),k(a,s(l).format(),!0),o();return}const f=i.filter(u=>u[1]<v(t)).map(u=>r(s(u[1]).subtract(u[0]).value,s(u[2],{precision:3}).value)).reduce((u,p)=>u+p,0);k(a,s(l).add(f).format(),!0),o()};var B=N(`<main class="flex
    min-h-screen
    flex-col items-center justify-center
    border-pink-500
    bg-gray-300
    p-4
    px-4 py-2 text-center font-mono font-bold text-indigo-900"><h1 class=" m-2 block border-b text-2xl">Hnry Tax Tool</h1> <label class="m-2">Enter a yearly income: <input id="user_income" class="block rounded border-pink-500 bg-blue-100 px-0 py-1 text-center font-bold hover:bg-blue-200" type="number" placeholder="yearly income" step="0.01" min="0.01"/></label> <button class="mb-2 block cursor-pointer rounded bg-indigo-900 px-2 py-2 font-bold text-white hover:bg-white hover:text-indigo-900">Calculate tax</button> <div id="reveal" class="invisible mt-2 border-t border-pink-500 p-2 text-xl"><p>Total tax:</p> <p class="mt-2 px-1 rounded bg-indigo-900 text-white" id="total_tax"> </p></div></main>`);function re(e,t){J(t,!0);let n=C(S(s(0).format())),r=C(S(s(.01).value));const a=[[0,15600,s(.105,{precision:3}).value],[15600,53500,s(.175,{precision:3}).value],[53500,78100,s(.3).value],[78100,18e4,s(.33).value],[18e4,1/0,s(.39).value]],o=(x,I)=>s(x).multiply(I,{precision:3}).value,i=()=>{document.querySelector("#reveal").classList.remove("invisible")};var c=B(),l=b(h(c),2),d=b(h(l));L(d),g(l);var f=b(l,2);f.__click=[A,r,a,o,n,i];var u=b(f,2),p=b(h(u),2),E=h(p,!0);g(p),g(u),g(c),F(()=>K(E,v(n))),Q(d,()=>v(r),x=>k(r,x)),W(e,c),q()}H(["click"]);export{re as component};
